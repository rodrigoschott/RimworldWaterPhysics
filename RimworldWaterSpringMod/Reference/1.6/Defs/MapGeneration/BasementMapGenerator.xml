<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<MapGeneratorDef>
		<defName>MF_Basement</defName>
		<label>basement</label>
		<isUnderground>true</isUnderground>
		<forceCaves>true</forceCaves>
		<ignoreAreaRevealedLetter>true</ignoreAreaRevealedLetter>
		<disableCallAid>true</disableCallAid>
		<customMapComponents>
			<li>MultiFloors.MF_BasementMapComp</li>
		</customMapComponents>
		<pocketMapProperties>
			<biome>MF_BasementBiome</biome>
			<temperature>21</temperature>
			<tileMutators>
				<li>MF_UndergroundCave</li>
			</tileMutators>
		</pocketMapProperties>
		<genSteps>
			<li>ElevationFertility</li>
			<li>MutatorPostElevationFertility</li>
			<li>Terrain</li>
			<li>MutatorPostTerrain</li>
			<li>MF_UndercaveRocksFromGrid</li>
			<li>MF_UndercaveScatterRuinsSimple</li>
			<li>RockChunks</li>
			<li MayRequire="Ludeon.RimWorld.Ideology">MechanoidRemains</li>
			<li MayRequire="Ludeon.RimWorld.Ideology">ScatterCaveDebris</li>
			<li>CaveHives</li>
			<li>MF_FogAllMap</li>
		</genSteps>
	</MapGeneratorDef>
	
	<TileMutatorDef>
		<defName>MF_UndergroundCave</defName>
		<label>underground cave</label>
		<categories>
			<li>Caves</li>
		</categories>
		<priority>5</priority>
		<workerClass>MultiFloors.Maps.TileMutatorWorker_UndergroundCave</workerClass>
		<genOrder>-100</genOrder><!-- After mountain but before other terrain gen -->
	</TileMutatorDef>
	
	<MapGeneratorDef>
		<defName>MF_BasementWithoutCaves</defName>
		<label>basement without caves</label>
		<isUnderground>true</isUnderground>
		<forceCaves>true</forceCaves>
		<ignoreAreaRevealedLetter>true</ignoreAreaRevealedLetter>
		<disableCallAid>true</disableCallAid>
		<customMapComponents>
			<li>MultiFloors.MF_BasementMapComp</li>
		</customMapComponents>
		<pocketMapProperties>
			<biome>MF_BasementBiome</biome>
			<temperature>21</temperature>
		</pocketMapProperties>
		<genSteps>
			<li>ElevationFertility</li>
			<li>Terrain</li>
			<li>MF_UndercaveRocksFromGrid</li>
			<li>MF_FogAllMap</li>
		</genSteps>
	</MapGeneratorDef>
	
	<GenStepDef>
		<defName>MF_UndercaveRocksFromGrid</defName>
		<order>200</order>
		<genStep Class="GenStep_RocksFromGrid">
			<overrideBlotchesPer10kCells>10</overrideBlotchesPer10kCells>
		</genStep>
	</GenStepDef>
	
	<GenStepDef>
		<defName>MF_UndercaveScatterRuinsSimple</defName>
		<order>220</order>
		<genStep Class="GenStep_ScatterRuinsSimple">
			<allowInWaterBiome>false</allowInWaterBiome>
			<countPer10kCellsRange>1~3</countPer10kCellsRange>
			<mustBeStandable>true</mustBeStandable>
			<canBeOnEdge>true</canBeOnEdge>
			<destroyChanceExp>4</destroyChanceExp>
			<clearSurroundingArea>true</clearSurroundingArea>
		</genStep>
	</GenStepDef>
	
	<GenStepDef>
		<defName>MF_FogAllMap</defName>
		<order>1500</order>
		<genStep Class="MultiFloors.Maps.GenStep_FogAllMap"/>
	</GenStepDef>
	
	<BiomeDef>
		<defName>MF_BasementBiome</defName>
		<label>basement</label>
		<description>Placeholder.</description>
		<generatesNaturally>false</generatesNaturally>
		<animalDensity>0</animalDensity>
		<plantDensity>0</plantDensity>
		<wildAnimalsCanWanderInto>false</wildAnimalsCanWanderInto>
		<baseWeatherCommonalities>
			<MF_UndergroundWeather>1</MF_UndergroundWeather>
		</baseWeatherCommonalities>
		<diseaseMtbDays>80</diseaseMtbDays>
		<diseases>
			<li>
				<diseaseInc>Disease_Flu</diseaseInc>
				<commonality>100</commonality>
			</li>
			<li>
				<diseaseInc>Disease_Plague</diseaseInc>
				<commonality>80</commonality>
			</li>
			<li>
				<diseaseInc>Disease_FibrousMechanites</diseaseInc>
				<commonality>40</commonality>
			</li>
			<li>
				<diseaseInc>Disease_SensoryMechanites</diseaseInc>
				<commonality>40</commonality>
			</li>
			<li>
				<diseaseInc>Disease_GutWorms</diseaseInc>
				<commonality>30</commonality>
			</li>
			<li>
				<diseaseInc>Disease_MuscleParasites</diseaseInc>
				<commonality>30</commonality>
			</li>
			<li>
				<diseaseInc>Disease_AnimalFlu</diseaseInc>
				<commonality>100</commonality>
			</li>
			<li>
				<diseaseInc>Disease_AnimalPlague</diseaseInc>
				<commonality>80</commonality>
			</li>
		</diseases>
	</BiomeDef>
</Defs>